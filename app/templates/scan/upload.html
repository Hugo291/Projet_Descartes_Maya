{% extends 'menu.html' %}
{% block headpage %}

{#    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>#}
    <script src="{{ url_for('static', filename='js/bootstrap-fileselect.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/file-input.css') }}">

{% endblock %}

{% block content %}

{% if error %}
    <div class="alert alert-danger" role="alert">
        {{error}}
    </div>
{% endif %}

    <div class="container">

      <div class="row">
        <div class="col-md-12">
          <h1 class="display-1">Scan</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 align-middle">
            <p>This scan allows you to extract the text from a pdf document in order to use it for upgrade the actual translator by adding the words inside the database. Note that if several files are already analysed by the scanner, your file will be handled after all the files scanned before him</p>
            <p>To use the scan, you must provide a pdf file with the text you want to extract and indicate from which page you want to start the scan to which page you want to stop the scan. If you leave those numbers to 0 and 0, the entire document will be scanned.</p>
            <p>Once you've submitted your file to the scan process, you will be redirected to the report of the files who are currently analysed, and allows you to access to their data and their infos</p>
        </div>
        <div class="col-md-6">


            <form method="POST" enctype="multipart/form-data" action="{{ url_for('scan_app.upload') }}">
                <div class="form-group">
                    {{ form.filePdf.label }}{{ form.filePdf(id='input-file',accept='.pdf') }}
                </div>
                <div class="form-group">

                    <label>Range Page</label>
                      <div class="row">
                        <div class="col">
                            {{ form.file_range_min.label }}{{ form.file_range_min(class_='form-control',value="0") }}
                            </div>
                          <div class="col">
                          {{ form.file_range_max.label }}{{ form.file_range_max(class_='form-control',value="0") }}
                        </div>
                      </div>
                </div>

                <button id="submit-uplaod" type="submit" class="btn btn-primary">Submit</button>
            </form>


            <div class="mx-auto text-center mt-3">
                <div class="progress">
                  <div id="progressBar" class="progress-bar progress-bar-striped bg-primary" role="progressbar" style="width:0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>

        </div>
      </div>

    </div>

   <script>
        $('#input-file').fileselect();
    </script>
{% endblock %}